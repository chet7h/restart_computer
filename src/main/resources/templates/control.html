<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">

<head>
<title>Material Able bootstrap admin template by Codedthemes</title>
<!-- Meta -->
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />

<meta name="keywords"
	content="bootstrap, bootstrap admin template, admin theme, admin dashboard, dashboard template, admin template, responsive" />
<meta name="author" content="Codedthemes" />
<!-- Favicon icon -->
<link rel="icon" th:href="@{/images/favicon.ico}" type="image/x-icon">
<!-- Google font-->
<link
	href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700"
	rel="stylesheet">
<!-- waves.css -->
<link rel="stylesheet" th:href="@{/pages/waves/css/waves.min.css}"
	type="text/css" media="all">
<!-- Required Fremwork -->
<link rel="stylesheet" type="text/css"
	th:href="@{/css/bootstrap/css/bootstrap.min.css}">
<!-- themify-icons line icon -->
<link rel="stylesheet" type="text/css"
	th:href="@{/icon/themify-icons/themify-icons.css}">
<!-- ico font -->
<link rel="stylesheet" type="text/css"
	th:href="@{/icon/icofont/css/icofont.css}">
<!-- Font Awesome -->
<link rel="stylesheet" type="text/css"
	th:href="@{/icon/font-awesome/css/font-awesome.min.css}">
<!-- Style.css -->
<link rel="stylesheet" type="text/css" th:href="@{/css/style.css}">
<link rel="stylesheet" type="text/css"
	th:href="@{/css/jquery.mCustomScrollbar.css}">
</head>

<body>
	<!-- Pre-loader start -->
	<th:block th:insert="fragments/menu.html :: pre-loader"></th:block>
	<!-- Pre-loader end -->
	<div id="pcoded" class="pcoded">
		<div class="pcoded-overlay-box"></div>
		<div class="pcoded-container navbar-wrapper">
			<th:block th:insert="fragments/menu.html :: menu"></th:block>
			<div class="pcoded-main-container">
				<div class="pcoded-wrapper">
					<th:block th:insert="fragments/menu.html :: menu-left"></th:block>
					<div class="pcoded-content">
						<!-- Page-header start -->
						<th:block th:insert="fragments/menu.html :: page-header"></th:block>
						<!-- Page-header end -->
						<div class="pcoded-inner-content">
							<!-- Main-body start -->
							<div class="main-body">
								<div class="page-wrapper">
									<!-- Page-body start -->
									<div class="page-body button-page">

										<div class="row h-100">
											<div class="col-sm-6">
												<div class="card">
													<div class="card-header">
														<div class="card-header-left">
															<h5>Key</h5>
														</div>
													</div>
													<div class="card-block">
														<!-- button Default -->
														<p>
															Có thể ấn phím
															<code>w↑, x↓, a←, d→, s□</code>
															để tiến, lùi, trái, phải, dừng
														</p>
														<p>
															Có thể ấn phím
															<code>p↑, l↓</code>
															để nâng cánh tay lên, xuống
														</p>
														<p>
															Hoạt động không đúng khi dùng
															<code>Unikey ...</code>
														</p>
														<table>
															<tr>
																<th colspan="3">hướng di chuyển</th>

																<th colspan="2">cánh tay</th>
															</tr>
															<tr>
																<td></td>
																<td><button data-navigate="4"
																		class="btn btn-primary waves-effect waves-light">
																		<i class="icofont icofont-arrow-up"></i>
																	</button></td>
																<td></td>
																<td></td>
																<td><button data-arm="2"
																		class="btn btn-primary waves-effect waves-light">
																		<i class="icofont icofont-arrow-up"></i>
																	</button></td>
															</tr>
															<tr>
																<td><button data-navigate="1"
																		class="btn btn-primary waves-effect waves-light">
																		<i class="icofont icofont-arrow-left"></i>
																	</button></td>
																<td><button data-navigate="0"
																		class="btn btn-primary waves-effect waves-light">
																		<i class="icofont icofont-stop"></i>
																	</button></td>
																<td><button data-navigate="2"
																		class="btn btn-primary waves-effect waves-light">
																		<i class="icofont icofont-arrow-right"></i>
																	</button></td>
																<td></td>
																<td></td>
															</tr>
															<tr>
																<td></td>
																<td><button data-navigate="3"
																		class="btn btn-primary waves-effect waves-light">
																		<i class="icofont icofont-arrow-down"></i>
																	</button></td>
																<td></td>
																<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
																<td><button data-arm="2"
																		class="btn btn-primary waves-effect waves-light">
																		<i class="icofont icofont-arrow-down"></i>
																	</button></td>
															</tr>


														</table>
													</div>
												</div>
											</div>
											<!-- Border button -->
											<div class="col-sm-6 h-800">
												<div class="card">
													<div class="card-header">
														<h5>Camera stream</h5>
													</div>
													<div class="card-block h-600">
														<!-- button Default -->
														<img class="rounded mx-auto d-block" id="stream"
															src="http://baongochome.duckdns.org:81/stream">
													</div>
												</div>
											</div>
										</div>

									</div>
									<!-- Page-body end -->
								</div>
							</div>
							<!-- Warning Section Starts -->

							<div id="styleSelector"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<input type="hidden" name="device_id" value="1" id="device_id">
	<input type="hidden" name="token" th:value="${_csrf.token}" id="token">
	<!-- Required Jquery -->
	<script type="text/javascript" th:src="@{/js/jquery/jquery.min.js} "></script>
	<script type="text/javascript"
		th:src="@{/js/jquery-ui/jquery-ui.min.js} "></script>
	<script type="text/javascript" th:src="@{/js/popper.js/popper.min.js}"></script>
	<script type="text/javascript"
		th:src="@{/js/bootstrap/js/bootstrap.min.js} "></script>
	<!-- waves js -->
	<script th:src="@{/pages/waves/js/waves.min.js}"></script>
	<!-- jquery slimscroll js -->
	<script type="text/javascript"
		th:src="@{/js/jquery-slimscroll/jquery.slimscroll.js}"></script>
	<!-- Custom js -->
	<script th:src="@{/js/pcoded.min.js}"></script>
	<script th:src="@{/js/vertical/vertical-layout.min.js}"></script>
	<script th:src="@{/js/jquery.mCustomScrollbar.concat.min.js}"></script>

	<!-- Custom js -->
	<script>
		$(document).keypress(function(event) {

			var keycode = (event.keyCode ? event.keyCode : event.which);
			if (keycode == '119') {
				let formData = {
					deviceId : $("#device_id").val(),
					navigateControl : '4',
					armControl : '0',
					token : $("#token").val()
				}
				$.ajax({
					url : "/robot/setNavigate",
					type : 'POST',
					contentType : "application/json",
					data : JSON.stringify(formData),
					dataType : 'json',
					success : function(result) {
					}
				});
			}
			if (keycode == '97') {
				let formData = {
					deviceId : $("#device_id").val(),
					navigateControl : '1',
					armControl : '0',
					token : $("#token").val()
				}
				$.ajax({
					url : "/robot/setNavigate",
					type : 'POST',
					contentType : "application/json",
					data : JSON.stringify(formData),
					dataType : 'json',
					success : function(result) {
					}
				});
			}
			if (keycode == '100') {
				let formData = {
					deviceId : $("#device_id").val(),
					navigateControl : '2',
					armControl : '0',
					token : $("#token").val()
				}
				$.ajax({
					url : "/robot/setNavigate",
					type : 'POST',
					contentType : "application/json",
					data : JSON.stringify(formData),
					dataType : 'json',
					success : function(result) {
					}
				});
			}
			if (keycode == '120') {
				let formData = {
					deviceId : $("#device_id").val(),
					navigateControl : '3',
					armControl : '0',
					token : $("#token").val()
				}
				$.ajax({
					url : "/robot/setNavigate",
					type : 'POST',
					contentType : "application/json",
					data : JSON.stringify(formData),
					dataType : 'json',
					success : function(result) {
					}
				});
			}
			if (keycode == '115') {
				let formData = {
					deviceId : $("#device_id").val(),
					navigateControl : '0',
					armControl : '0',
					token : $("#token").val()
				}
				$.ajax({
					url : "/robot/setNavigate",
					type : 'POST',
					contentType : "application/json",
					data : JSON.stringify(formData),
					dataType : 'json',
					success : function(result) {
					}
				});
			}
		});
		$(document).ready(function() {
			$('[data-toggle="popover"]').popover({
				html : true,
				content : function() {
					return $('#primary-popover-content').html();
				}
			});

			// CONTROL BUTTON
			$("button").click(function() {
				let formData = {
					deviceId : $("#device_id").val(),
					navigateControl : $(this).data('navigate'),
					armControl : $(this).data('arm'),
					token : $("#token").val()
				}
				$.ajax({
					url : "/robot/setNavigate",
					type : 'POST',
					contentType : "application/json",
					data : JSON.stringify(formData),
					dataType : 'json',
					success : function(result) {
					}
				});
			});
		});
	</script>
	<script type="text/javascript" th:src="@{/js/script.js}"></script>
</body>

</html>
